<!-- Master Form -->
<div class="container">
  <div class="row master">
    <div id="masterForm" class="col-12 col-md-6">
      <div class="text-center mb-3">
        <h3 class="fs-2 fw-bold" style="color: rgb(7, 78, 78)">
          Booking Order
        </h3>
      </div>
      <hr />
      <div *ngIf="customerResultMessage" class="text-center text-danger fs-2">
        <p>{{ customerResultMessage }}</p>
      </div>
      <form class="masterForm" [formGroup]="form">
        <div class="form-group col-12 mb-2">
          <label for="transactionDate">Transaction Date</label>
          <input
            type="date"
            class="form-control"
            id="transactionDate"
            formControlName="transactionDate"
          />

          <div
            *ngIf="
              form.get('transactionDate')?.invalid &&
              (form.get('transactionDate')?.touched ||
                form.get('transactionDate')?.dirty)
            "
          >
            <div
              *ngIf="form.get('transactionDate')?.hasError('required')"
              class="text-danger"
            >
              TransactionDate No is Required.
            </div>
          </div>
        </div>
        <div class="form-group col-12 mb-2">
          <label for="customerName">Customer Name</label>
          <input
            type="text"
            class="form-control"
            id="customerName"
            formControlName="customerName"
          />

          <div
            *ngIf="
              form.get('customerName')?.invalid &&
              (form.get('customerName')?.touched ||
                form.get('customerName')?.dirty)
            "
          >
            <div
              *ngIf="form.get('customerName')?.hasError('required')"
              class="text-danger"
            >
              Customer Name is Required.
            </div>
          </div>
        </div>
        <div class="form-group col-12 mb-2">
          <label for="customerNationality">Customer Nationality</label>
          <select
            class="form-control"
            id="customerNationality"
            formControlName="customerNationality"
          >
            <option>Egyptian</option>
            <option>American</option>
            <option>British</option>
            <option>Canadian</option>
            <option>Chinese</option>
            <option>French</option>
            <option>German</option>
            <option>Indian</option>
            <option>Italian</option>
            <option>Japanese</option>
            <option>Korean</option>
            <option>Mexican</option>
            <option>Russian</option>
            <option>Spanish</option>
            <option>Turkish</option>
          </select>

          <div
            *ngIf="
              form.get('customerNationality')?.invalid &&
              (form.get('customerNationality')?.touched ||
                form.get('customerNationality')?.dirty)
            "
          >
            <div
              *ngIf="form.get('customerNationality')?.hasError('required')"
              class="text-danger"
            >
              Customer Nationality is Required.
            </div>
          </div>
        </div>
        <div class="form-group col-12 mb-2">
          <label for="customerDrivingLicenseNo"
            >Customer Driving License No.</label
          >
          <input
            type="text"
            class="form-control"
            id="customerDrivingLicenseNo"
            formControlName="customerDrivingLicenseNo"
          />

          <div
            *ngIf="
              form.get('customerDrivingLicenseNo')?.invalid &&
              (form.get('customerDrivingLicenseNo')?.touched ||
                form.get('customerDrivingLicenseNo')?.dirty)
            "
          >
            <div
              *ngIf="form.get('customerDrivingLicenseNo')?.hasError('required')"
              class="text-danger"
            >
              Customer Driving License No is Required.
            </div>
          </div>
        </div>
        <div class="form-group col-12 mb-2">
          <label for="advancedPayment">Advanced Payment</label>
          <input
            type="text"
            class="form-control"
            id="advancedPayment"
            formControlName="advancedPayment"
          />

          <div
            *ngIf="
              form.get('advancedPayment')?.invalid &&
              (form.get('advancedPayment')?.touched ||
                form.get('advancedPayment')?.dirty)
            "
          >
            <div
              *ngIf="form.get('advancedPayment')?.hasError('required')"
              class="text-danger"
            >
              Advanced Payment is Required.
            </div>
          </div>
        </div>
        <div class="col-12 mb-2 text-center mt-5 mb-5">
          <button
            [disabled]="!form.valid"
            type="button"
            class="btn"
            id="openCarDetailsData"
            (click)="ShowDetailDataChild()"
            style="background-color: rgb(32, 112, 112); color: white"
          >
            Open Car Details Data
          </button>
          <app-detail
            (dataEvent)="RecevieDataFromDetail($event)"
            id="child"
            style="display: none"
          ></app-detail>
        </div>
      </form>
    </div>
  </div>

  <div class="row">
    <div *ngIf="tableData.length > 0">
      <div class="row">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Car Name</th>
              <th>Quantity of Cars</th>
              <th>Rent Duration</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="tbody">
            <tr #selectedCar *ngFor="let car of tableData">
              <td>{{ car.carName }}</td>
              <td>{{ car.quantityOfCars }}</td>
              <td>{{ car.rentDuration }}</td>
              <td>
                <button
                  type="button"
                  class="btn btn-danger"
                  id="deleteCar"
                  (click)="DeletSelectedCar(selectedCar)"
                >
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="row" *ngIf="tableData.length > 0">
    <div class="col-12 mb-2 text-center mt-5 mb-5">
      <button
        class="btn"
        (click)="CollectAllData()"
        style="background-color: rgb(32, 112, 112); color: white"
      >
        Confirm Booking
      </button>
    </div>
  </div>
</div>

<!-- Cars Table  -->
